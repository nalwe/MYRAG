{% extends "base.html" %}
{% block content %}
<div class="max-w-7xl mx-auto px-6 py-6">

  <!-- Header -->
  <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-8">

    <div>
      <h1 class="text-3xl font-bold text-gray-900">
        {{ organization.name }}
      </h1>
      <p class="text-sm text-gray-500">
        Company Dashboard
      </p>
    </div>

    <!-- Quick Actions -->
    {% if request.user.profile.is_org_admin or request.user.is_superuser %}
    <div class="flex gap-3 mt-4 md:mt-0">

      <a href="{% url 'org_add_user' %}"
         class="px-4 py-2 rounded-lg bg-indigo-600 text-white text-sm
                hover:bg-indigo-700 transition">
        âž• Add Existing User
      </a>

      <a href="{% url 'org_invite' %}"
         class="px-4 py-2 rounded-lg bg-white border border-gray-300 text-gray-700 text-sm
                hover:bg-gray-50 transition">
        âœ‰ Invite User
      </a>

      <a href="{% url 'org_user_list' %}"
         class="px-4 py-2 rounded-lg bg-gray-100 text-gray-700 text-sm
                hover:bg-gray-200 transition">
        ðŸ‘¥ View Users
      </a>

    </div>
    {% endif %}

  </div>

  <!-- Company Info -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">

    <!-- Status -->
    <div class="bg-white border border-gray-200 rounded-xl p-5 shadow-sm">
      <h3 class="text-sm font-medium text-gray-500 mb-1">Status</h3>
      <p class="text-lg font-semibold">
        {% if organization.is_active %}
          <span class="text-green-600">Active</span>
        {% else %}
          <span class="text-red-600">Archived</span>
        {% endif %}
      </p>
    </div>

    <!-- Tier -->
    <div class="bg-white border border-gray-200 rounded-xl p-5 shadow-sm">
      <h3 class="text-sm font-medium text-gray-500 mb-1">User Tier</h3>
      <p class="text-lg font-semibold">
        {{ organization.tier_label }}
      </p>
    </div>

    <!-- Created -->
    <div class="bg-white border border-gray-200 rounded-xl p-5 shadow-sm">
      <h3 class="text-sm font-medium text-gray-500 mb-1">Created</h3>
      <p class="text-lg font-semibold">
        {{ organization.created_at|date:"M d, Y" }}
      </p>
    </div>

  </div>

  <!-- Usage Stats -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">

    <div class="bg-white border border-gray-200 rounded-xl p-5 shadow-sm">
      <h3 class="text-sm text-gray-500">Users</h3>
      <p class="text-3xl font-bold text-gray-900">
        {{ stats.users }} / {{ organization.max_users }}
      </p>
    </div>

    <div class="bg-white border border-gray-200 rounded-xl p-5 shadow-sm">
      <h3 class="text-sm text-gray-500">Admins</h3>
      <p class="text-3xl font-bold text-gray-900">
        {{ stats.admins }}
      </p>
    </div>

    <div class="bg-white border border-gray-200 rounded-xl p-5 shadow-sm">
      <h3 class="text-sm text-gray-500">Documents</h3>
      <p class="text-3xl font-bold text-gray-900">
        {{ stats.documents }}
      </p>
    </div>

    <div class="bg-white border border-gray-200 rounded-xl p-5 shadow-sm">
      <h3 class="text-sm text-gray-500">API Tokens Used</h3>
      <p class="text-xl font-bold text-gray-900">
        {{ organization.api_tokens_used|intcomma }}
      </p>
      <p class="text-xs text-gray-400">
        Remaining: {{ organization.remaining_tokens|intcomma }}
      </p>
    </div>

  </div>

</div>
{% endblock %}
